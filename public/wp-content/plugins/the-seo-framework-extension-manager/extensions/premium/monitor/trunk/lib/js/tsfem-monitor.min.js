window.tsfem_e_monitor={nonce:tsfem_e_monitorL10n.nonce,i18n:tsfem_e_monitorL10n.i18n,rDataTimeout:tsfem_e_monitorL10n.remote_data_timeout,rCrawlTimeout:tsfem_e_monitorL10n.remote_crawl_timeout,showReadMore:function(a){'use strict';let b=jQuery('#'+a.target.id+'-wrap'),c=jQuery('#'+a.target.id+'-content');b.remove(),c.slideDown(500)},requestCrawl:function(a){'use strict';var b='tsfem-button-disabled tsfem-button-loading',c=jQuery(a.target),d='#tsfem-e-monitor-cp-pane .tsfem-pane-header .tsfem-ajax';if(!c.prop('disabled')){c.addClass(b),c.prop('disabled',!0),tsfem.resetAjaxLoader(d),tsfem.setAjaxLoader(d);let e={method:'POST',url:ajaxurl,datatype:'json',data:{action:'tsfem_e_monitor_crawl',nonce:tsfem_e_monitor.nonce,remote_crawl_timeout:tsfem_e_monitor.rCrawlTimeout},timeout:1e4,async:!0,success:function(f){f=tsfem.convertJSONResponse(f),tsfem.debug&&console.log(f);let g=f&&f.data||void 0,h=f&&f.type||void 0;if(!g)tsfem.updatedResponse(d,0,tsfem.i18n.InvalidResponse,0);else{'undefined'!=typeof g.status.timeout&&(tsfem_e_monitor.rCrawlTimeout=g.status.timeout);let i=g.status.type,j=g.status.notice;'success'===i?tsfem.updatedResponse(d,1,j,0):'yield_unchanged'===i?tsfem.updatedResponse(d,2,j,0):'requires_fix'===i?(tsfem_e_monitor.add_requires_fix(g.status.requires_fix),tsfem.updatedResponse(d,0,j,0)):tsfem.updatedResponse(d,0,j,0)}},error:function(f,g,h){let i=tsfem.getAjaxError(f,g,h);tsfem.updatedResponse(d,0,i,0)},complete:function(){c.removeClass(b),c.prop('disabled',!1)}};jQuery.ajax(e)}},updateData:function(a){'use strict';var b='tsfem-button-disabled tsfem-button-loading',c=jQuery(a.target),d='#tsfem-e-monitor-issues-pane .tsfem-pane-header .tsfem-ajax, #tsfem-e-monitor-stats-pane .tsfem-pane-header .tsfem-ajax';if(!c.prop('disabled')){c.addClass(b),c.prop('disabled',!0),tsfem.resetAjaxLoader(d),tsfem.setAjaxLoader(d);let e={method:'POST',url:ajaxurl,datatype:'json',data:{action:'tsfem_e_monitor_update',nonce:tsfem_e_monitor.nonce,remote_data_timeout:tsfem_e_monitor.rDataTimeout},timeout:15000,async:!0,success:function(f){f=tsfem.convertJSONResponse(f),tsfem.debug&&console.log(f);let g=f&&f.data||void 0,h=f&&f.type||void 0;if(!g||!g.status)tsfem.updatedResponse(d,0,tsfem.i18n.InvalidResponse,0);else{'undefined'!=typeof g.status.timeout&&(tsfem_e_monitor.rDataTimeout=g.status.timeout);let k=g.status.type,l=g.status.content,m=g.status.notice;if('success'===k){var i=l.issues,j=l.stats;if(i.found)jQuery('.tsfem-e-monitor-issues-wrap').empty().css('opacity',0).append(i.data.wrap).animate({opacity:1},{queue:!0,duration:250},'swing'),jQuery.each(i.data.info,function(n,o){setTimeout(function(){jQuery(o).appendTo('.tsfem-e-monitor-issues-wrap > div').css('opacity',0).animate({opacity:1},{queue:!1,duration:250},'swing')},250*n)});else{let n='<div class="tsfem-pane-inner-wrap tsfem-e-monitor-issues-wrap">'+i.data+'</div>';jQuery('.tsfem-e-monitor-issues-wrap').empty().css('opacity',0).append(n).animate({opacity:1},{queue:!0,duration:1e3},'swing')}jQuery('.tsfem-e-monitor-stats-wrap').empty().css('opacity',0).append(j).animate({opacity:1},{queue:!0,duration:1e3},'swing'),setTimeout(function(){tsfem.updatedResponse(d,1,m,0)},1e3)}else'yield_unchanged'===k?tsfem.updatedResponse(d,2,m,0):'requires_fix'===k?(tsfem_e_monitor.add_requires_fix(),tsfem.updatedResponse(d,0,m,0)):tsfem.updatedResponse(d,0,m,0)}},error:function(f,g,h){let i=tsfem.getAjaxError(f,g,h);tsfem.updatedResponse(d,0,i,0)},complete:function(){c.removeClass(b),c.prop('disabled',!1)}};jQuery.ajax(e)}},add_requires_fix:function(){'use strict';if(!(0<jQuery('.tsfem-account-fix').length||1>jQuery('.tsfem-account-info').length)){let a={method:'POST',url:ajaxurl,datatype:'json',data:{action:'tsfem_e_monitor_get_requires_fix',nonce:tsfem_e_monitor.nonce},timeout:3e3,async:!0,success:function(b){b=tsfem.convertJSONResponse(b),tsfem.debug&&console.log(b);let c=b&&b.data||void 0,d=b&&b.type||void 0;c&&c.html&&jQuery(c.html).insertAfter('.tsfem-account-info').hide().slideDown(500)},error:function(b,c,d){tsfem.debug&&(console.log(b.responseText),console.log(d))},complete:function(){}};jQuery.ajax(a)}},ready:function(a){'use strict';a('a#tsfem-e-monitor-privacy-readmore').on('click touchstart MSPointerDown',tsfem_e_monitor.showReadMore),a('a#tsfem-e-monitor-crawl-button').on('click',tsfem_e_monitor.requestCrawl),a('a#tsfem-e-monitor-update-button').on('click',tsfem_e_monitor.updateData)}},jQuery(tsfem_e_monitor.ready);
